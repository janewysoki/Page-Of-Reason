<%= render partial: 'layouts/errors', locals: {object: @review} %>

<% if params[:book_id] %> #do we have params book id? if we do, below is our title
    <h1>Write a Review for <%= @review.book.title %> by <%= @review.book.author.name %></h1>
<% else %> #if we don't have those params then here's a different h1 below
    <h1>Write a Review</h1>
<% end %>

<%= form_for(@review) do |f| %>
    <% if params[:book_id] %>
        <%= f.hidden_field :book_id %>
    <% else %>
        <div>
            <%= f.label :book_id, "Select a Book" %>
            <%= f.collection_select :book_id, Book.all, :id, :title, include_blank: true %>
        </div>
    <% end %>
    <br>
    <div>    
        <%= f.label :rating %>
        <%= f.number_field :rating, min:0, max:10 %>
    </div>
    <div>    
        <%= f.label :title %>
        <%= f.text_area :title, size: "50x5" %>
    </div>
    <div>    
        <%= f.label :content %>
        <%= f.text_area :content, size: "50x10" %>
    </div>
    <%= f.hidden_field :book_id %>

    <%= f.submit %>
<% end %>
